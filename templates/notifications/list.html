{% extends "base.html" %}
{% block content %}
<h1 class="h4 mb-3">Notifications</h1>

{% if unread %}
  <div class="d-flex justify-content-between align-items-center mb-2">
    <strong>Non lues</strong>
    <a class="btn btn-sm btn-outline-secondary" href="{% url 'notifications:read_all' %}">Tout marquer comme lu</a>
  </div>
  <div class="list-group mb-4">
    {% for n in unread %}
      <a class="list-group-item list-group-item-action" href="{% url 'notifications:read' n.id %}">
        <div class="d-flex justify-content-between">
          <div>{{ n.message }}</div>
          <small class="text-muted">{{ n.created_at|date:"d/m/Y H:i" }}</small>
        </div>
      </a>
    {% endfor %}
  </div>
{% endif %}

<h2 class="h6">Historique</h2>
{% if read %}
  <div class="list-group">
    {% for n in read %}
      <a class="list-group-item list-group-item-action" href="{% url 'notifications:read' n.id %}">
        <div class="d-flex justify-content-between">
          <div class="text-muted">{{ n.message }}</div>
          <small class="text-muted">{{ n.created_at|date:"d/m/Y H:i" }}</small>
        </div>
      </a>
    {% endfor %}
  </div>
{% else %}
  <p>Aucune notification lue.</p>
{% endif %}
{% endblock %}
